<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多模态交互系统</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="container">
            <h1>多模态交互系统</h1>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul>
                <li><a href="{{ url_for('index') }}">首页</a></li>
                <li><a href="{{ url_for('multimodal') }}" class="active">多模态交互</a></li>
                <li><a href="{{ url_for('system_bp.preferences') }}">个性化设置</a></li>
                <li><a href="{{ url_for('system_bp.logs') }}">交互日志</a></li>
                <li><a href="{{ url_for('system_bp.permissions') }}">权限管理</a></li>
                <li><a href="{{ url_for('auth.logout') }}">登出</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        <div class="modal-content">
            <h2>多模态交互系统</h2>
            <p>在这里，您可以通过语音、手势和视觉信息与系统进行交互。</p>
            
            <div class="interaction-container">
                <!-- 语音交互部分 -->
                <div class="interaction-section">
                    <h3>语音控制</h3>
                    <p>点击下方按钮开始语音识别，说出您的指令：</p>
                    <button id="start-voice" class="primary-btn">开始语音识别</button>
                    <div class="output" id="voice-output">等待语音输入...</div>
                    <div class="help-info">
                        <h4>可用语音命令</h4>
                        <ul>
                            <li><strong>打开空调</strong> - 开启车内空调</li>
                            <li><strong>调高温度</strong> - 提高车内温度</li>
                            <li><strong>播放音乐</strong> - 开始播放音乐</li>
                            <li><strong>导航到家</strong> - 设置回家路线</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 摄像头区域（共享） -->
                <div class="camera-section">
                    <h3>摄像头捕捉</h3>
                    <button id="start-camera" class="primary-btn">启动摄像头</button>
                    <video id="camera-video" autoplay></video>
                </div>
                
                <!-- 手势交互部分 -->
                <div class="interaction-section">
                    <h3>手势交互</h3>
                    <p>摄像头开启后，做出手势并点击捕捉：</p>
                    <button id="capture-gesture" disabled class="secondary-btn">捕捉手势</button>
                    <div class="output" id="gesture-output">等待手势输入...</div>
                    <div class="help-info">
                        <h4>可用手势</h4>
                        <ul>
                            <li><strong>握拳</strong> - 暂停音乐</li>
                            <li><strong>竖起大拇指</strong> - 确认操作</li>
                            <li><strong>摇手</strong> - 拒绝操作</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 视觉交互部分 -->
                <div class="interaction-section">
                    <h3>视觉交互</h3>
                    <p>摄像头开启后，通过头部姿态或目光方向进行交互：</p>
                    <div class="button-group">
                        <button id="capture-head" disabled class="secondary-btn">捕捉头部姿态</button>
                        <button id="capture-gaze" disabled class="secondary-btn">捕捉目光方向</button>
                    </div>
                    <div class="output" id="visual-output">等待视觉输入...</div>
                    <div class="help-info">
                        <h4>头部姿态</h4>
                        <ul>
                            <li><strong>点头</strong> - 确认操作</li>
                            <li><strong>摇头</strong> - 拒绝操作</li>
                        </ul>
                        <h4>目光跟踪</h4>
                        <ul>
                            <li><strong>注视中央</strong> - 选择中央区域</li>
                            <li><strong>注视左侧</strong> - 选择左侧区域</li>
                            <li><strong>注视右侧</strong> - 选择右侧区域</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="system-status">
                <h3>系统状态</h3>
                <div class="status-container">
                    <div class="status-item">
                        <span class="status-label">操作结果:</span>
                        <span class="status-value" id="status-action">无操作</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">最近交互:</span>
                        <span class="status-value" id="status-interaction">无</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">状态:</span>
                        <span class="status-value" id="status-state">就绪</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
